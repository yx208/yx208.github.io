---
title: 如何使用 FFmpeg 去除视频中嵌入的自定义封面图
date: 2025/08/10 15:40:00
---

当你希望从视频文件中移除作为元数据嵌入的自定义封面图时，FFmpeg 提供了几种有效的方法。最常用且推荐的方式是利用 `-map_metadata` 选项来控制元数据的映射，或者通过精确的流选择来排除封面图流。

## 1\. 清除所有元数据（包括封面图）

如果你想彻底移除视频文件中包含的所有元数据，例如标题、艺术家、创建时间等，当然也包括嵌入的封面图，可以使用以下命令：

```bash
ffmpeg -i input.mp4 -map_metadata -1 -c copy output_no_metadata.mp4
```

  * `-i input.mp4`: 指定你的**输入视频文件**。
  * `-map_metadata -1`: 这是核心选项。它告诉 FFmpeg **不要**将任何元数据从输入文件复制到输出文件。这会有效地移除所有全局元数据，其中就包括了嵌入的封面图片。
  * `-c copy`: 这个选项至关重要，它指示 FFmpeg **直接复制**视频和音频流，而**不进行重新编码**。这样做的好处是处理速度极快，并且不会有任何质量损失。

-----

## 2\. 仅去除封面图（保留其他元数据）

如果你只想移除封面图，但希望保留视频文件中的其他元数据（如标题、描述、日期等），你需要更精确地识别并排除封面图流。FFmpeg 通常将嵌入的封面图识别为一个特殊的视频流（通常是 `mjpeg` 格式或标记为 `(attached pic)`）。

首先，你需要查看视频文件的详细信息，以确定封面图的流索引。在终端中运行以下命令：

```bash
ffmpeg -i input.mp4
```

在输出的信息中，仔细查找包含 `attached pic` 或 `mjpeg` 字样的流。它通常看起来像这样：

```
Stream #0:2: Video: mjpeg, yuvj420p(pc, bt470bg/unknown/unknown), 640x360 [SAR 72:72 DAR 16:9], 90k tbr, 90k tbn (attached pic)
```

在这个例子中，`Stream #0:2` 就是嵌入的封面图流。假设你的主视频流是 `Stream #0:0`，音频流是 `Stream #0:1`，那么你可以使用 `-map` 选项来精确选择要保留的流，从而排除封面图流：

```bash
ffmpeg -i input.mp4 -map 0:v:0 -map 0:a:0 -c copy output_no_cover.mp4
```

* `-map 0:v:0`: 映射输入文件（索引为 `0`）的**第一个视频流**（`v:0`）。
* `-map 0:a:0`: 映射输入文件（索引为 `0`）的**第一个音频流**（`a:0`）。
* `-c copy`: 同样，使用流复制以保证处理速度和无损质量。

**请注意：** 流的索引（例如 `0:v:0`, `0:a:0`, `0:2`）可能会因文件而异。务必根据你 `ffmpeg -i input.mp4` 命令的实际输出来调整。
